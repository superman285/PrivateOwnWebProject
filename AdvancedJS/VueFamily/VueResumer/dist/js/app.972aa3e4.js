(function(e){function t(t){for(var s,o,a=t[0],c=t[1],l=t[2],u=0,d=[];u<a.length;u++)o=a[u],r[o]&&d.push(r[o][0]),r[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(s=!1)}s&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},r={app:0},i=[];function o(e){return a.p+"js/"+({about:"about"}[e]||e)+"."+{about:"5273d30c"}[e]+".js"}function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise(function(t,s){n=r[e]=[t,s]});t.push(n[2]=s);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.src=o(e),i=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+s+": "+i+")");o.type=s,o.request=i,n[1](o)}r[e]=void 0}};var l=setTimeout(function(){i({type:"timeout",target:c})},12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var f=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1206:function(e,t,n){"use strict";var s=n("710c"),r=n.n(s);r.a},4474:function(e,t,n){},"49fe":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],o=(n("b059"),{name:"app"}),a=o,c=(n("5c0b"),n("2877")),l=Object(c["a"])(a,r,i,!1,null,null,null);l.options.__file="App.vue";var u=l.exports,f=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"preview"}},[n("main",[n("ResumePreview",{staticClass:"rpreview"})],1),n("v-btn",{staticClass:"white--text",attrs:{color:"indigo"},on:{click:e.back}},[e._v("\n        退出预览\n        "),n("v-icon",{attrs:{right:"",dark:""}},[e._v("cloud_upload")])],1)],1)},m=[],v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"topbar"}},[n("div",{staticClass:"wrapper"},[n("span",{staticClass:"logo"},[e._v("Resumer")]),n("div",{staticClass:"actions"},[e.logined?n("div",{staticClass:"userActions"},[n("span",{staticClass:"welcome"},[e._v("Hello,\n                "),n("span",{staticClass:"mvp"},[e._v(e._s(e.user.username))])]),n("v-btn",{attrs:{outline:"",color:"light-blue accent-4"},on:{click:function(t){return t.preventDefault(),e.signOut(t)}}},[e._v("登出")])],1):n("div",{staticClass:"userActions"},[n("v-btn",{attrs:{outline:"",color:"light-blue accent-3"},on:{click:function(t){return t.preventDefault(),e.test(t)}}},[e._v("注册")]),n("MyDialog",{attrs:{title:"注册",visible:e.signUpDialogVisible},on:{close:function(t){e.signUpDialogVisible=!1}}},[n("SignUpForm",{on:{success:function(t){e.signIn(t)}}})],1),n("v-btn",{attrs:{outline:"",color:"green accent-4"},on:{click:function(t){t.preventDefault(),e.signInDialogVisible=!0}}},[e._v("登录")]),n("MyDialog",{attrs:{title:"登录",visible:e.signInDialogVisible},on:{close:function(t){e.signInDialogVisible=!1}}},[n("SignInForm",{on:{success:function(t){e.signIn(t)}}})],1),n("router-link",{attrs:{to:"/preview"}},[n("v-btn",{attrs:{outline:"",color:"purple accent-3"}},[e._v("预览")])],1)],1)])])])},p=[],_=n("9dda"),b=n.n(_),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"wrapper"},[n("div",{staticClass:"dialog"},[n("header",[n("h3",[e._v(e._s(e.title))]),n("v-btn",{staticClass:"close",attrs:{fab:"",dark:"",small:"",color:"green"},on:{click:e.close}},[n("v-icon",{attrs:{dark:""}},[e._v("close")])],1)],1),n("main",[e._t("default")],2)])])},g=[],w={name:"MyDialog",props:["title","visible"],methods:{close:function(){this.$emit("close")}}},y=w,C=(n("e622"),Object(c["a"])(y,h,g,!1,null,"3ac060b9",null));C.options.__file="MyDialog.vue";var k=C.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{on:{submit:function(t){return t.preventDefault(),e.signUp(t)}}},[n("div",{staticClass:"row"},[n("label",[e._v("用户名")]),n("v-text-field",{staticClass:"userfield",attrs:{type:"text",required:""},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}})],1),n("div",{staticClass:"row"},[n("label",[e._v("密码")]),n("v-text-field",{staticClass:"pwdfield",attrs:{type:"password",required:""},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1),n("div",{staticClass:"actions"},[n("v-btn",{staticClass:"sub-btn",attrs:{type:"submit"}},[e._v("提交")]),n("span",{staticClass:"errorMessage"},[e._v(e._s(e.errorMessage))])],1)])])},x=[],I={202:"用户名已经被占用!",210:"用户名和密码不匹配!",211:"找不到该用户!",217:"无效的用户名!",unknown:"请求失败,请稍后再试!"},$=function(e){var t=e.code;return I[t]||I.unknown},j=function(e){var t="93ivy0ImjLvoRTU1SLSw8lnM-gzGzoHsz",n="Ydqpc6FQV4jXqUImwvcI8T0l";b.a.init({appId:t,appKey:n});var s=e||b.a.User.current()||{attributes:{}},r=s.id,i=s.attributes.username;return{id:r,username:i}},U={name:"SignUpForm",data:function(){return{formData:{username:"",password:""},errorMessage:""}},methods:{signUp:function(){var e=this,t=this.formData,n=t.username,s=t.password,r=new b.a.User;r.setUsername(n),r.setPassword(s),r.signUp().then(function(){e.$emit("success",j())},function(t){e.errorMessage=$(t)})}}},S=U,O=(n("67b5"),Object(c["a"])(S,D,x,!1,null,"1a3442ba",null));O.options.__file="SignUpForm.vue";var R=O.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{on:{submit:function(t){return t.preventDefault(),e.signIn(t)}}},[n("div",{staticClass:"row"},[n("label",[e._v("用户名")]),n("v-text-field",{staticClass:"userfield",attrs:{type:"text",required:""},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}})],1),n("div",{staticClass:"row"},[n("label",[e._v("密码")]),n("v-text-field",{staticClass:"pwdfield",attrs:{type:"password",required:""},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1),n("div",{staticClass:"actions"},[n("v-btn",{staticClass:"sub-btn",attrs:{type:"submit"}},[e._v("提交")]),n("span",{staticClass:"errorMessage"},[e._v(e._s(e.errorMessage))])],1)])])},P=[],E={name:"SignInForm",data:function(){return{formData:{username:"",password:""},errorMessage:""}},methods:{signIn:function(){var e=this;console.log("触发了啊");var t=this.formData,n=t.username,s=t.password;b.a.User.logIn(n,s).then(function(){console.log("成功了吧"),setTimeout(function(){location.reload()},1e3),e.$emit("success",j())},function(t){e.errorMessage=$(t)})}}},F=E,T=(n("63ec"),Object(c["a"])(F,M,P,!1,null,"3eb21fbe",null));T.options.__file="SignInForm.vue";var A=T.exports,V={name:"TopBar",data:function(){return{signUpDialogVisible:!1,signInDialogVisible:!1}},components:{MyDialog:k,SignUpForm:R,SignInForm:A},computed:{user:function(){return this.$store.state.user},logined:function(){return this.user.id}},methods:{test:function(){this.signUpDialogVisible=!0,console.log("AV:",b.a)},signOut:function(){b.a.User.logOut(),this.$store.commit("removeUser")},signIn:function(e){this.signUpDialogVisible=!1,this.signInDialogVisible=!1,this.$store.commit("setUser",e)}}},q=V,B=(n("9899"),Object(c["a"])(q,v,p,!1,null,"17cea32b",null));B.options.__file="TopBar.vue";var N=B.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"resume-editor"}},[n("nav",[n("ol",e._l(e.resume.config,function(t,s){return n("li",{class:{active:t.field===e.selected},on:{click:function(){e.selected=t.field}}},[n("v-icon",[e._v(e._s(t.icon))])],1)}),0)]),n("ol",{staticClass:"panels"},e._l(e.resume.config,function(t){return n("li",{directives:[{name:"show",rawName:"v-show",value:t.field===e.selected,expression:"item.field === selected"}]},[n("h1",{staticClass:"editor-title"},[e._v(e._s(t.field))]),e.resume[t.field]instanceof Array?n("div",[e._l(e.resume[t.field],function(s,r){return n("div",{staticClass:"subitem"},[n("v-card",{staticClass:"cardwrap"},[e._l(s,function(s,i){return n("div",{staticClass:"resumeField"},[n("label",[e._v(" "+e._s(i)+" ")]),n("input",{attrs:{type:"text"},domProps:{value:s},on:{input:function(n){e.changeResumeFieldArr(t.field,r,i,n.target.value)}}})])}),0!=r?n("v-btn",{staticClass:"item-del",attrs:{fab:"",dark:"",small:"",color:"indigo"},on:{click:function(n){e.delItem(r,t.field)}}},[n("v-icon",{attrs:{dark:""}},[e._v("remove")])],1):e._e()],2)],1)}),n("v-btn",{staticClass:"white--text add-btn",attrs:{color:"blue-grey"},on:{click:function(n){e.addItem(t.field)}}},[e._v("\n                    添加\n                    "),n("v-icon",{attrs:{right:"",dark:""}},[e._v("playlist_add")])],1)],2):n("div",e._l(e.resume[t.field],function(s,r){return n("div",{staticClass:"resumeField"},[n("label",[e._v(" "+e._s(r)+" ")]),n("input",{attrs:{required:""},domProps:{value:s},on:{input:function(n){e.changeResumeField(t.field,r,n.target.value)}}})])}),0)])}),0)])},J=[],L=void 0,H={name:"ResumeEditor",computed:{count:function(){return L.$store.state.count},selected:{get:function(){return this.$store.state.selected},set:function(e){this.$store.commit("switchTab",e)}},resume:function(){return this.$store.state.resume}},methods:{addItem:function(e){console.log("item.field:",e),this.$store.commit("addItem",e)},delItem:function(e,t,n){this.$store.commit("delItem",{index:e,field:t})},changeResumeField:function(e,t,n){console.log(n),this.$store.commit("updateResume",{field:e,subfield:t,value:n})},changeResumeFieldArr:function(e,t,n,s){console.log(s),this.$store.commit("updateResumeArr",{field:e,arridx:t,subfield:n,value:s})}}},G=H,K=(n("6595"),Object(c["a"])(G,z,J,!1,null,"93bc71ca",null));K.options.__file="ResumeEditor.vue";var Q=K.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"resume-preview"}},[e.resume.profile?n("section",{staticClass:"profile"},[n("h1",{staticClass:"display-3"},[e._v(e._s(e.resume.profile.name))]),n("v-btn",{staticClass:"profile-title",attrs:{depressed:""}},[e._v(e._s(e.resume.profile.title))]),n("span",[e._v(e._s(e.resume.profile.city)+"  ")]),n("span",[e._v(e._s(e.resume.profile.birthday))])],1):e._e(),e.resume.projects?n("section",{staticClass:"project"},[n("h2",[e._v("项目经历")]),n("ul",e._l(e.resume.projects,function(t){return n("li",[n("h3",[e._v(e._s(t.name))]),n("hr"),n("span",[e._v(e._s(t.content))])])}),0)]):e._e(),e.resume["work history"]?n("section",{staticClass:"work-history"},[n("h2",[e._v("工作经历")]),n("ul",e._l(e.resume["work history"],function(t){return n("li",[n("h3",[e._v(e._s(t.company))]),n("hr"),n("span",[e._v(e._s(t.content))])])}),0)]):e._e(),e.resume["education"]?n("section",{staticClass:"education"},[n("h2",[e._v("教育经历")]),n("ul",e._l(e.resume["education"],function(t){return n("li",[n("span",[e._v(e._s(t.school)+" - "+e._s(t.content))])])}),0)]):e._e(),e.resume["awards"]?n("section",{staticClass:"awards"},[n("h2",[e._v("获奖情况")]),n("ul",e._l(e.resume["awards"],function(t){return n("li",[n("h3",[e._v(e._s(t.name))]),n("hr"),n("span",[e._v(e._s(t.content))])])}),0)]):e._e(),e.resume["contacts"]?n("section",{staticClass:"contacts"},[n("h2",[e._v("联系方式")]),n("ul",e._l(e.resume["contacts"],function(t){return n("li",[n("div",[n("span",{staticClass:"contact-kind"},[e._v(e._s(t.contact))]),n("span",[e._v(e._s(t.content))])])])}),0)]):e._e()])},Y=[],W={name:"ResumePreview",computed:{resume:function(){return this.$store.state.resume}}},Z=W,ee=(n("7f8e"),Object(c["a"])(Z,X,Y,!1,null,"1f2a0314",null));ee.options.__file="ResumePreview.vue";var te=ee.exports,ne={name:"Preview",components:{TopBar:N,ResumeEditor:Q,ResumePreview:te,MyDialog:k},methods:{back:function(){history.back()}}},se=ne,re=(n("1206"),Object(c["a"])(se,d,m,!1,null,"7676e6ff",null));re.options.__file="Preview.vue";var ie=re.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"normal"}},[n("header",[n("TopBar")],1),n("main",[n("ResumeEditor",{staticClass:"reditor"}),n("ResumePreview",{staticClass:"rpreview"})],1)])},ae=[],ce={name:"normal",components:{TopBar:N,ResumeEditor:Q,ResumePreview:te,MyDialog:k},created:function(){var e=localStorage.getItem("state");e&&(e=JSON.parse(e)),this.$store.commit("initState",e),this.$store.commit("setUser",j())}},le=ce,ue=(n("bee1"),Object(c["a"])(le,oe,ae,!1,null,null,null));ue.options.__file="Normal.vue";var fe=ue.exports;s["default"].use(f["a"]);var de=new f["a"]({routes:[{path:"/",name:"home",component:fe},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/preview",name:"preview",component:ie}]}),me=n("f499"),ve=n.n(me),pe=n("5176"),_e=n.n(pe),be=n("2f62");s["default"].use(be["a"]);var he=new be["a"].Store({state:{count:0,selected:"profile",user:{id:"",username:""},resume:{config:[{field:"profile",icon:"assignment_ind"},{field:"work history",icon:"card_travel"},{field:"education",icon:"bookmarks"},{field:"projects",icon:"favorite_border"},{field:"awards",icon:"local_play"},{field:"contacts",icon:"phone"}],profile:{name:"吴智翀",city:"北京",title:"游戏企划师",birthday:"1992.1.26"},"work history":[{company:"蓝港互动",content:"我的第一份工作是游戏运营，打杂打杂再打杂"},{company:"祖龙娱乐",content:"我的第二份工作是游戏策划，发版本发版本再发版本"}],education:[{school:"西北大学",content:"软件工程学士"},{school:"社会大学",content:"接受磨炼并成长"}],projects:[{name:"project A",content:"项目A是用vue完成的"},{name:"project B",content:"项目B是用koa完成的"}],awards:[{name:"再来十瓶",content:"连续十次获得「再来一瓶」奖励"},{name:"三好学生",content:"多次荣获三好学生殊荣"}],contacts:[{contact:"phone",content:"13812345678"},{contact:"qq",content:"12345678"}]}},mutations:{initState:function(e,t){_e()(e,t)},switchTab:function(e,t){e.selected=t,localStorage.setItem("state",ve()(e))},addItem:function(e,t){switch(t){case"work history":n();break;case"education":s();break;case"projects":case"awards":r();break;case"contacts":i();break}function n(){e.resume[t].push({company:"",content:""})}function s(){e.resume[t].push({school:"",content:""})}function r(){e.resume[t].push({name:"",content:""})}function i(){e.resume[t].push({contact:"",content:""})}},delItem:function(e,t){var n=t.index,s=t.field;if(console.log(n,s),n){var r=confirm("确认删除此项么?");r&&e.resume[s].splice(n,1)}else alert("第一条项目不可删除!")},updateResume:function(e,t){var n=t.field,s=t.subfield,r=t.value;e.resume[n][s]=r,localStorage.setItem("state",ve()(e))},updateResumeArr:function(e,t){var n=t.field,s=t.arridx,r=t.subfield,i=t.value;e.resume[n][s][r]=i,localStorage.setItem("state",ve()(e))},setUser:function(e,t){_e()(e.user,t),console.log(e.user)},removeUser:function(e){e.user.id=null,location.reload()}},actions:{}}),ge=n("ce5b"),we=n.n(ge);n("bf40"),n("d1e7");s["default"].config.productionTip=!1,s["default"].use(we.a),new s["default"]({router:de,store:he,render:function(e){return e(u)}}).$mount("#app")},"598e":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var s=n("5e27"),r=n.n(s);r.a},"5e27":function(e,t,n){},"63ec":function(e,t,n){"use strict";var s=n("cd1d"),r=n.n(s);r.a},"64da":function(e,t,n){},6595:function(e,t,n){"use strict";var s=n("598e"),r=n.n(s);r.a},"67b5":function(e,t,n){"use strict";var s=n("4474"),r=n.n(s);r.a},"6a74":function(e,t,n){},"710c":function(e,t,n){},"7f8e":function(e,t,n){"use strict";var s=n("64da"),r=n.n(s);r.a},9899:function(e,t,n){"use strict";var s=n("49fe"),r=n.n(s);r.a},b059:function(e,t,n){},bee1:function(e,t,n){"use strict";var s=n("c0cd"),r=n.n(s);r.a},c0cd:function(e,t,n){},cd1d:function(e,t,n){},e622:function(e,t,n){"use strict";var s=n("6a74"),r=n.n(s);r.a}});
//# sourceMappingURL=app.972aa3e4.js.map