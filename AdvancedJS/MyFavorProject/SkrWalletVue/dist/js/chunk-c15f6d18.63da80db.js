(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c15f6d18"],{"0037":function(t,e,a){"use strict";var s=(a("3a23"),{name:"v-upload",data:function(){return{}},methods:{uploadFile:function(){var t=this.$refs.uploadInput.files[0];this.$store.state.globalKeystore=t,this.$refs.uploadTip.value=t.name}}}),n=(a("8f5f"),a("17cc")),r=Object(n.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-field"},[a("input",{ref:"uploadInput",staticClass:"upload-input",attrs:{type:"file"},on:{change:t.uploadFile}}),a("v-btn",{staticClass:"uploadBtn",attrs:{color:"#6EC3A8"}},[a("span",[t._v("File  ")]),a("i",{staticClass:"material-icons upico"},[t._v("backup")])]),a("input",{ref:"uploadTip",staticClass:"upload-filetip",attrs:{readonly:"",type:"text",placeholder:"click or drag file here"}})],1)},[],!1,null,"742e8dee",null);e.a=r.exports},"152f":function(t,e,a){},"24d0":function(t,e,a){t.exports=a.p+"img/kspng.68ab7744.png"},"3a23":function(t,e,a){var s=a("694f").f,n=Function.prototype,r=/^\s*function ([^ (]*)/,o="name";o in n||a("3a0f")&&s(n,o,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},"8e70":function(t,e,a){"use strict";var s=a("e691");a.n(s).a},"8f5f":function(t,e,a){"use strict";var s=a("152f");a.n(s).a},a084:function(t,e,a){"use strict";(function(t){a("3a23"),a("b5aa");var s=a("2c46"),n=(a("5c07"),a("53da"),a("2556"),a("d0f8"),a("5ea9")),r=a.n(n),o=(a("ffd9"),a("0037")),i="http://154.8.215.126:4000";e.a={name:"AccessWallet",components:{"v-upload":o.a},data:function(){return{accesstitle:"Load Your Own Wallet",unlockMethod:"keystore",privatekey:"",showpwd:!1,password:"",kscard:!0,pkcard:!0,pklayout:!1,kslayout:!1,progressRunning:!1}},methods:{look:function(){},ksload:function(){this.accesstitle="Load Wallet via Keystore",this.pkcard=!1,this.kscard=!1,this.kslayout=!0},pkload:function(){this.accesstitle="Load Wallet via Privatekey",this.pkcard=!1,this.kscard=!1,this.pklayout=!0},back:function(){this.password="",this.privatekey="",this.pkcard=!0,this.kscard=!0,this.pklayout=!1,this.kslayout=!1,this.progressRunning=!1},changePrivatekey:function(t){this.privatekey=t},unlockWithPk:function(){var e=Object(s.a)(regeneratorRuntime.mark(function e(){var s,n,o,c,u,l,p,d=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=a("8554"),n=s.getweb3(),""!=this.privatekey){e.next=5;break}return r.a.warning({message:"未填写私钥 !",color:"red",timeout:1e3}),e.abrupt("return");case 5:if(n.utils.isHexStrict(this.privatekey)&&66==this.privatekey.length){e.next=9;break}return r.a.warning({title:"Error",message:"私钥错误 ! (别忘了以0x开头)",color:"red",timeout:2e3}),e.abrupt("return");case 9:return this.progressRunning=!0,o="".concat(i,"/users/unlockwithprivatekey"),e.prev=12,e.next=15,t({method:"post",url:o,data:{privatekey:this.privatekey}});case 15:0==(c=e.sent).data.code?(setTimeout(function(){d.progressRunning=!1,r.a.success({title:"OK",message:"钱包载入成功 !",timeout:1e3,position:"bottomCenter"})},1e3),u=c.data.info.account.address,this.$store.commit("setAccountAddr",u),l=c.data.info.account.privateKey,this.$store.state.globalPrivatekey=l,p=c.data.info.balance,this.$store.commit("setAccountBalance",p),setTimeout(function(){r.a.show({message:"即将自动跳转到首页 !",timeout:4e3,position:"bottomCenter",buttons:[["<button><b>点击跳转</b></button>",function(t,e){t.hide({transitionOut:"fadeOut"},e,"button")}]],theme:"dark",onClosing:function(){d.$store.state.headerTabs[0].click()}})},2e3)):300==c.data.code?this.progressRunning=!1:(this.progressRunning=!1,r.a.info({title:"Error",message:"钱包载入失败 !",color:"red",timeout:2e3})),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(12),this.progressRunning=!1,r.a.info({title:"Error",message:"钱包载入失败 !",color:"red",timeout:2e3});case 25:case"end":return e.stop()}},e,this,[[12,20]])}));return function(){return e.apply(this,arguments)}}(),unlockWithKs:function(){var e=this,a=this.$store.state.globalKeystore;if((new FormData).append("file",a),a.name){var n=this.password;if(""===n)return void r.a.warning({message:"请输入keystore密码 !",timeout:2e3});var o=new FileReader;o.readAsText(a),o.onload=Object(s.a)(regeneratorRuntime.mark(function a(){var s,o,c,u,l,p;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0,s=JSON.parse(this.result),a.next=11;break;case 6:return a.prev=6,a.t0=a.catch(0),r.a.info({title:"Error",message:"keystore文件读取失败 !",color:"red",timeout:2e3}),a.abrupt("return");case 11:return e.progressRunning=!0,o="".concat(i,"/users/unlockwithkeystore"),a.prev=13,a.next=16,t({method:"post",url:o,data:{password:n,keystore:s}});case 16:0==(c=a.sent).data.code?(setTimeout(function(){r.a.success({title:"OK",message:"钱包载入成功 !",timeout:1e3,position:"bottomCenter"}),e.progressRunning=!1},1e3),u=c.data.info.account.address,e.$store.commit("setAccountAddr",u),l=c.data.info.account.privateKey,e.$store.state.globalPrivatekey=l,p=c.data.info.balance,e.$store.commit("setAccountBalance",p),setTimeout(function(){r.a.show({message:"即将自动跳转到首页 !",timeout:4e3,position:"bottomCenter",buttons:[["<button><b>点击跳转</b></button>",function(t,e){t.hide({transitionOut:"fadeOut"},e,"button")}]],theme:"dark",onClosing:function(){e.$store.state.headerTabs[0].click()}})},2e3)):300==c.data.code?e.progressRunning=!1:(e.progressRunning=!1,r.a.info({title:"Error",message:"钱包载入失败 !",color:"red",timeout:2e3})),a.next=26;break;case 21:a.prev=21,a.t1=a.catch(13),e.progressRunning=!1,r.a.info({title:"Error",message:"钱包载入失败 !",color:"red",timeout:2e3});case 26:case"end":return a.stop()}},a,this,[[0,6],[13,21]])}))}else e.progressRunning=!1,r.a.warning({message:"未选择keystore文件 !",timeout:2e3})},uploadFile:function(){var t=Object(s.a)(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.files[0],this.$refs.uploadTip.value=a.name,(new FormData).append("file",a),"".concat(i,"/users/upload");case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}}).call(this,a("7f43"))},b6d8:function(t,e,a){"use strict";a.r(e);var s=a("a084").a,n=(a("8e70"),a("17cc")),r=Object(n.a)(s,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h1",[t._v(t._s(t.accesstitle))]),s("v-layout",{staticClass:"create_wrapper",attrs:{"align-start":"","justify-space-around":""}},[t.kscard?s("div",{staticClass:"kscard",on:{click:function(e){return t.ksload()}}},[s("img",{attrs:{src:a("24d0"),alt:""}}),s("h2",[t._v("Via Keystore")])]):t._e(),t.pkcard?s("div",{staticClass:"pkcard",on:{click:function(e){return t.pkload()}}},[s("img",{attrs:{src:a("11d7"),alt:""}}),s("h2",[t._v("Via Privatekey")])]):t._e()]),t.kslayout?s("div",{staticClass:"unlock-keystore"},[s("v-upload"),s("br"),s("div",{staticClass:"inputWrap"},[s("v-text-field",{ref:"inputPwd",staticClass:"input-pwd",attrs:{solo:"","prepend-inner-icon":"vpn_key","append-icon":t.showpwd?"visibility":"visibility_off",type:t.showpwd?"text":"password",name:"input-10-1",label:"Input password to load keystore"},on:{"click:append":function(e){t.showpwd=!t.showpwd}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("v-progress-linear",{ref:"aksProgress",staticClass:"aksProgress",attrs:{indeterminate:t.progressRunning,color:"white","background-color":"#1976d2"}})],1),s("v-btn",{staticClass:"white--text upbtn",attrs:{color:"indigo"},on:{click:t.unlockWithKs}},[t._v("\n            Next\n            "),s("v-icon",{attrs:{right:"",dark:""}},[t._v("cloud_upload")])],1),s("div",{staticClass:"backbtn"},[s("v-btn",{attrs:{outline:"",fab:"",color:"indigo"},on:{click:t.back}},[s("v-icon",[t._v("arrow_back")])],1)],1)],1):t._e(),t.pklayout?s("div",{staticClass:"unlock-privatekey"},[s("div",{staticClass:"inputWrap"},[s("v-text-field",{attrs:{box:"","single-line":"","prepend-inner-icon":"vpn_key","append-icon":t.showpwd?"visibility":"visibility_off",type:t.showpwd?"text":"password",color:"pink",label:"Input privatekey to access wallet"},on:{"click:append":function(e){t.showpwd=!t.showpwd},input:function(e){return t.changePrivatekey(e)}}}),s("v-progress-linear",{ref:"apkProgress",staticClass:"apkProgress",attrs:{indeterminate:t.progressRunning,color:"white","background-color":"pink"}})],1),s("v-btn",{staticClass:"white--text upbtn",attrs:{color:"pink"},on:{click:t.unlockWithPk}},[t._v("\n            Next\n            "),s("v-icon",{attrs:{right:"",dark:""}},[t._v("cloud_upload")])],1),s("div",{staticClass:"backbtn"},[s("v-btn",{attrs:{outline:"",fab:"",color:"indigo"},on:{click:t.back}},[s("v-icon",[t._v("arrow_back")])],1)],1)],1):t._e()],1)},[],!1,null,"58d8a2e0",null);e.default=r.exports},e691:function(t,e,a){}}]);