(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07d61e51"],{2718:function(t,e,r){},"2ce6":function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"3b80":function(t,e,r){var n=r("2d2c"),a=r("2b11"),s=r("201d"),o=r("2ce6"),i="["+o+"]",c="​",l=RegExp("^"+i+i+"*"),u=RegExp(i+i+"*$"),f=function(t,e,r){var a={},i=s(function(){return!!o[t]()||c[t]()!=c}),l=a[t]=i?e(d):o[t];r&&(a[r]=l),n(n.P+n.F*i,"String",a)},d=f.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},"51bb":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("v-card",{staticClass:"txcard"},[r("v-text-field",{staticClass:"tokenField",attrs:{label:"Token","single-line":"",solo:"",light:"",readonly:"",value:t.tokenType,"background-color":"#E1F9EC"}}),r("v-layout",{staticClass:"main",attrs:{"justify-space-between":"","align-center":""}},[r("v-text-field",{staticClass:"amountField",attrs:{label:"转账金额",suffix:"ether",rules:[t.rules.type]},on:{input:function(e){return t.changeAmount(e)}}}),r("v-text-field",{staticClass:"gaspriceField",attrs:{label:"GasPrice",suffix:"Gwei",rules:[t.rules.type,t.rules.counter]},model:{value:t.txGasPrice,callback:function(e){t.txGasPrice=e},expression:"txGasPrice"}})],1),r("v-text-field",{staticClass:"targetAddr",attrs:{label:"目标地址","prepend-inner-icon":"near_me","single-line":"",box:"",clearable:""},on:{input:function(e){return t.changeAddr(e)}}}),r("v-btn",{staticClass:"white--text sendtx-btn",attrs:{block:"",color:"#55A47E"},on:{click:t.sendTx}},[t._v("发送\n            "),r("v-icon",{attrs:{right:"",color:"white"}},[t._v("present_to_all")])],1),r("v-progress-linear",{staticClass:"txProgress",attrs:{indeterminate:t.txSending,color:"rgb(0,255,184)","background-color":"#E1F9EC"}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.txHash,expression:"txHash!=''"}],staticClass:"txtip-card"},[r("v-tooltip",{attrs:{bottom:"",dark:"",color:"rgb(0, 255, 184)","content-class":"black--text"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("a",t._g({ref:"txlink",attrs:{target:"_blank",href:"https://rinkeby.etherscan.io/tx/"+t.txHash}},n),[t._v(t._s(t.txHash))])]}}])},[r("span",[t._v("查看交易详情")])])],1)],1)},a=[],s=r("d104"),o=s["a"],i=(r("665b"),r("17cc")),c=Object(i["a"])(o,n,a,!1,null,"1c31a3d6",null);e["default"]=c.exports},"578a":function(t,e,r){var n=r("471d");n(n.S,"Object",{is:r("ac77")})},"62af":function(t,e,r){var n=r("7cbd"),a=r("2ba0").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,a)}},"665b":function(t,e,r){"use strict";var n=r("2718"),a=r.n(n);a.a},"6b2e":function(t,e,r){t.exports=r("9f90")},"78de":function(t,e,r){var n=r("48ed"),a=r("b915"),s=r("54a3"),o=r("1f51"),i=r("3301"),c=r("8003"),l=Object.getOwnPropertyDescriptor;e.f=r("3a0f")?l:function(t,e){if(t=s(t),e=o(e,!0),c)try{return l(t,e)}catch(r){}if(i(t,e))return a(!n.f.call(t,e),t[e])}},"9f90":function(t,e,r){r("578a"),t.exports=r("836e").Object.is},ac77:function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},b06f:function(t,e,r){"use strict";var n=r("4839"),a=r("3301"),s=r("9b6d"),o=r("d62f"),i=r("1f51"),c=r("201d"),l=r("62af").f,u=r("78de").f,f=r("694f").f,d=r("3b80").trim,p="Number",g=n[p],x=g,h=g.prototype,b=s(r("04ac")(h))==p,v="trim"in String.prototype,m=function(t){var e=i(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():d(e,3);var r,n,a,s=e.charCodeAt(0);if(43===s||45===s){if(r=e.charCodeAt(2),88===r||120===r)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+e}for(var o,c=e.slice(2),l=0,u=c.length;l<u;l++)if(o=c.charCodeAt(l),o<48||o>a)return NaN;return parseInt(c,n)}}return+e};if(!g(" 0o1")||!g("0b1")||g("+0x1")){g=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof g&&(b?c(function(){h.valueOf.call(r)}):s(r)!=p)?o(new x(m(e)),r,g):m(e)};for(var y,A=r("3a0f")?l(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;A.length>k;k++)a(x,y=A[k])&&!a(g,y)&&f(g,y,u(x,y));g.prototype=h,h.constructor=g,r("7f00")(n,p,g)}},d104:function(t,e,r){"use strict";(function(t){r("b06f");var n=r("6b2e"),a=r.n(n),s=(r("b5aa"),r("2c46")),o=(r("5c07"),r("53da"),r("2556"),r("d0f8"),r("5ea9")),i=r.n(o);r("ffd9");e["a"]={name:"SendTx",data:function(){return{tokenType:"ETH",txAmount:"",txToAddr:"",txGasPrice:"20",txHash:"",txSending:!1,rules:{counter:function(t){return t>=20||"GasPrice过小可能导致交易失败！"},type:function(t){var e=/^(([1-9]+\.?)|([1-9]*0\.))[0-9]*$/;return e.test(t)||"请输入有效数字！"},addrFormat:function(t){var e=/^0x[0-9a-fA-F]{40}$/;return e.test(t)||"请输入正确格式的地址!"}}}},methods:{changeAmount:function(t){this.txAmount=t},changeAddr:function(t){this.txToAddr=t},changeGasPrice:function(t){this.txGasPrice=t},sendTx:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var n,s,o,c,l,u,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("发起来"),!(this.txAmount&&this.txToAddr&&this.txGasPrice)){e.next=53;break}if(!a()(Number(this.txAmount),NaN)&&!a()(Number(this.txGasPrice),NaN)){e.next=6;break}return i.a.warning({title:"Warning",message:"转账金额和GasPrice输入有误 !",color:"red",timeout:2e3}),console.log("金额和gasprice必须为数字"),e.abrupt("return");case 6:if(n=r("8554"),s=n.getweb3(),s.utils.isAddress(this.txToAddr)){e.next=12;break}return console.log("地址格式错误"),i.a.warning({title:"Error",message:"地址格式错误 !",color:"red",timeout:2e3}),e.abrupt("return");case 12:if("0x00"!=this.$store.state.accountAddr&&""!=this.$store.state.globalPrivatekey){e.next=16;break}return console.log("Please access your Wallet first!"),i.a.warning({message:"请先创建或加载钱包 !",color:"red",timeout:2e3}),e.abrupt("return");case 16:if(o=Number(this.$store.state.accountBalance),c=Number(this.txAmount),!(o<=c)){e.next=26;break}return console.log("balance"),console.log(o),console.log("txAmount"),console.log(c),console.log("Your wallet balance is Not Enough!"),i.a.error({title:"Error",message:"钱包余额不足 !",timeout:2e3}),e.abrupt("return");case 26:return this.txSending=!0,l="http://127.0.0.1:4000/users/sendtx",e.prev=28,e.next=31,t({method:"post",url:l,data:{privatekey:this.$store.state.globalPrivatekey,txAmount:this.txAmount,txFromAddr:this.$store.state.accountAddr,txToAddr:this.txToAddr,txGasPrice:this.txGasPrice}});case 31:return u=e.sent,console.log("sendtxresult",u),this.txHash=u.data.info.transactionHash,console.log(this.txHash),this.txSending=!1,i.a.success({title:"SUCCESS",message:"转账成功 !",timeout:2e3,position:"bottomCenter"}),f=this.$refs.txlink,console.log("link是啥",f),f.style.visibility="visible",i.a.success({message:"交易Hash",messageColor:"rgb(0, 255, 184)",timeout:2e4,displayMode:2,resetOnHover:!0,target:".txtip-card",progressBarColor:"rgb(0, 255, 184)",transitionIn:"flipInX",transitionOut:"flipOutX",color:"grey",theme:"dark",onClosing:function(){f.style.visibility="hidden"}}),e.next=43,this.$store.dispatch("refreshBalance");case 43:console.log("dispatch action refreshBalance分发完毕"),e.next=51;break;case 46:e.prev=46,e.t0=e["catch"](28),this.txSending=!1,console.log("sendtx failed,err",e.t0),i.a.info({title:"Error",message:"很遗憾,交易失败 !",color:"red",timeout:2e3});case 51:e.next=55;break;case 53:console.log("三项都要填 金额 gasprice toaddr"),i.a.warning({message:"请正确输入转账金额、目标地址和GasPrice !",timeout:2e3,color:"red"});case 55:case"end":return e.stop()}},e,this,[[28,46]])}));function n(){return e.apply(this,arguments)}return n}()}}}).call(this,r("7f43"))},d62f:function(t,e,r){var n=r("b429"),a=r("d772").set;t.exports=function(t,e,r){var s,o=e.constructor;return o!==r&&"function"==typeof o&&(s=o.prototype)!==r.prototype&&n(s)&&a&&a(t,s),t}},d772:function(t,e,r){var n=r("b429"),a=r("4d65"),s=function(t,e){if(a(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=r("0709")(Function.call,r("78de").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,r){return s(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:s}}}]);
//# sourceMappingURL=chunk-07d61e51.1f18731f.js.map